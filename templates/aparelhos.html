{% extends "base.html" %}
{% block title %}Aparelhos{% endblock %}

{% block content %}
<div class="page-header">
    <h1><i class="fas fa-mobile-alt"></i> Aparelhos</h1>
</div>

<div class="card form-card">
    <h2 class="card-title"><i class="fas fa-plus-circle"></i> Novo Aparelho</h2>

    <form action="/aparelhos/add" method="POST" class="form-grid">
        <div class="form-group">
            <label>ID Aparelho</label>
            <input type="text" name="id_aparelho" required>
        </div>

        <div class="form-group">
            <label>Modelo</label>
            <input type="text" name="modelo" required>
        </div>

        <div class="form-group">
            <label>Marca</label>
            <input type="text" name="marca" required>
        </div>

        <div class="form-group">
            <label>IMEI</label>
            <input type="text" name="imei">
        </div>

        <div class="form-group">
            <label>Status</label>
            <select name="status">
                <option value="ATIVO">ATIVO</option>
                <option value="MANUTENCAO">MANUTENÇÃO</option>
                <option value="QUEBRADO">QUEBRADO</option>
                <option value="BAIXADO">BAIXADO</option>
            </select>
        </div>

        <button class="btn-primary" type="submit">Salvar</button>
    </form>
</div>

<div class="card table-card">
    <h2 class="card-title"><i class="fas fa-list"></i> Aparelhos Cadastrados</h2>

    <table id="tabela-aparelhos" class="display compact stripe">
        <thead>
            <tr>
                <th>ID</th>
                <th>Modelo</th>
                <th>Marca</th>
                <th>IMEI</th>
                <th>Status</th>
            </tr>
        </thead>

        <tbody>
            {% for a in aparelhos %}
            <tr>
                <td>{{ a.id_aparelho }}</td>
                <td>{{ a.modelo }}</td>
                <td>{{ a.marca }}</td>
                <td>{{ a.imei }}</td>
                <td>{{ a.status }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<script>
$(document).ready(function () {
    $('#tabela-aparelhos').DataTable({
        pageLength: 25,
        responsive: true
    });
});
</script>

{% endblock %}
