{% extends "base.html" %}
{% block conteudo %}

<h2>Cadastrar Chip</h2>

<form id="form-chip" method="POST" action="/chips/add" class="form-box">

    <label>ID Interno</label>
    <input name="id_chip">

    <label>Número</label>
    <input name="numero" required>

    <label>Operadora</label>
    <input name="operadora">

    <label>Plano</label>
    <input name="plano">

    <label>Status</label>
    <select name="status">
        <option value="DISPONIVEL">DISPONÍVEL</option>
        <option value="MATURANDO">MATURANDO</option>
        <option value="MATURADO">MATURADO</option>
        <option value="DESCANSO_1">DESCANSO 1</option>
        <option value="DESCANSO_2">DESCANSO 2</option>
        <option value="PRONTO_PARA_MATURAR">PRONTO PARA MATURAR</option>
        <option value="DISPARANDO">DISPARANDO</option>
        <option value="BANIDO">BANIDO</option>
        <option value="RESTRINGIDO">RESTRINGIDO</option>
        <option value="ATIVO">ATIVO</option>
        <option value="BLOQUEADO">BLOQUEADO</option>
    </select>

    <label>Data de Início</label>
    <input type="date" name="dt_inicio">

    <label>Última Recarga Valor</label>
    <input type="number" name="ultima_recarga_valor" step="0.01">

    <label>Última Recarga Data</label>
    <input type="date" name="ultima_recarga_data">

    <label>Total Gasto</label>
    <input type="number" name="total_gasto" step="0.01">

    <label>Aparelho Atual</label>
    <select name="sk_aparelho_atual">
        <option value="">Nenhum</option>
        {% for a in aparelhos %}
            <option value="{{ a.sk_aparelho }}">
                {{ a.marca }} {{ a.modelo }} - {{ a.imei }}
            </option>
        {% endfor %}
    </select>

    <button type="submit">Salvar</button>
</form>



<h2>Chips Cadastrados</h2>

<table class="tabela">
<thead>
<tr>
    <th>ID</th>
    <th>Número</th>
    <th>Status</th>
    <th>Operadora</th>
    <th>Plano</th>
    <th>Última Recarga</th>
    <th>Aparelho Atual</th>
</tr>
</thead>
<tbody>
{% for c in chips %}
<tr>
    <td>{{ c.sk_chip }}</td>
    <td>{{ c.numero }}</td>
    <td>{{ c.status }}</td>
    <td>{{ c.operadora }}</td>
    <td>{{ c.plano }}</td>
    <td>{{ c.ultima_recarga_data }}</td>

    <td>
        {% if c.sk_aparelho_atual %}
            {{ c.marca_atual }} {{ c.modelo_atual }} - {{ c.imei_atual }}
        {% else %}
            Nenhum
        {% endif %}
    </td>
</tr>
{% endfor %}
</tbody>
</table>

{% endblock %}
