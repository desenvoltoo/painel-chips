{% extends "base.html" %}
{% block title %}Editar Chip{% endblock %}

{% block content %}
<link rel="stylesheet" href="/static/css/style.css">

<div class="container chip-edit-container">

    <h1 class="chip-title">
        <i class="fas fa-edit"></i> Editar Chip
    </h1>

    <div class="chip-card">

        <form action="/chips/update/{{ chip.id_chip }}" method="POST">

            <div class="form-row">

                <div class="form-group">
                    <label>ID do Chip</label>
                    <input type="text" name="id_chip" value="{{ chip.id_chip }}" readonly>
                </div>

                <div class="form-group">
                    <label>Número</label>
                    <input type="text" name="numero" value="{{ chip.numero }}" required>
                </div>

                <div class="form-group">
                    <label>Operadora</label>
                    <select name="operadora">
                        {% for op in ["VIVO","TIM","CLARO","OI","OUTRA"] %}
                        <option value="{{ op }}" {% if chip.operadora == op %}selected{% endif %}>{{ op }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label>Operador</label>
                    <input type="text" name="operador" value="{{ chip.operador }}">
                </div>

            </div>

            <div class="form-row">

                <div class="form-group">
                    <label>Status</label>
                    <select name="status">
                        {% for s in ["DISPONIVEL","MATURANDO","MATURADO","DESCANSO_1","DESCANSO_2","PRONTO_PARA_MATURAR","DISPARANDO","BANIDO","RESTRINGIDO","ATIVO","BLOQUEADO"] %}
                        <option value="{{ s }}" {% if chip.status == s %}selected{% endif %}>{{ s }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label>Plano</label>
                    <input type="text" name="plano" value="{{ chip.plano }}">
                </div>

                <div class="form-group">
                    <label>Data de Início</label>
                    <input type="date" name="dt_inicio" value="{{ chip.dt_inicio }}">
                </div>

            </div>

            <div class="form-row">

                <div class="form-group">
                    <label>Valor Última Recarga (R$)</label>
                    <input type="number" name="ultima_recarga_valor" step="0.01" value="{{ chip.ultima_recarga_valor }}">
                </div>

                <div class="form-group">
                    <label>Última Recarga</label>
                    <input type="date" name="ultima_recarga_data" value="{{ chip.ultima_recarga_data }}">
                </div>

                <div class="form-group">
                    <label>Total Gasto</label>
                    <input type="number" name="total_gasto" step="0.01" value="{{ chip.total_gasto }}">
                </div>

            </div>

            <button type="submit" class="chip-btn">
                <i class="fas fa-save"></i> Salvar Alterações
            </button>

        </form>

    </div>

</div>

{% endblock %}
